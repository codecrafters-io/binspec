name: Kafka Produce Success Response (v11)
slug: kafka-produce-success-response

data:
# This is the header part
  - 0x00 # Message length (4 bytes, 0x7a in hdex, 122 in decimal)
  - 0x00
  - 0x00
  - 0x7a
  - 0x00 # Correlation ID (4 bytes, 0x00000007 in hex, 7 in decimal)
  - 0x00
  - 0x00
  - 0x07
  - 0x00 # Empty tag buffer after correlation ID
# This is the body part
  - 0x03 # Topics array length + 1 (varint, 0x03 in hex, 3 in decimal)
  - 0x04 # Topic name length + 1 (varint, 0x04 in hex, 4 in decimal)
  - 0x71 # q (topic name)
  - 0x75 # u (topic name)
  - 0x78 # x (topic name)
  - 0x03 # Partitions array length + 1 (varint, 0x03 in hex, 3 in decimal)
  - 0x00 # Partitions[0].ID (4 bytes, 0x00000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00 # Partitions[0].ErrorCode (2 bytes, 0x0000 in hex, 0 in decimal)
  - 0x00
  - 0x00 # Partitions[0].Offset (8 bytes, 0x0000000000000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0xff # Partitions[0].Timestamp (8 bytes, 0xffffffffffffffff in hex, -1 in decimal)
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0x00 # Partitions[0].LogStartOffset (8 bytes, 0x0000000000000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x01 # Record errors array length + 1 (varint, 0x01 in hex, 1 in decimal)
  - 0x00 # Error Message (COMPACT_STRING, 0x00 in hex, 0 in decimal, NULL value)
  - 0x00 # Empty tag buffer at the end of the partition
  - 0x00 # Partitions[1].ID (4 bytes, 0x00000001 in hex, 1 in decimal)
  - 0x00
  - 0x00
  - 0x01
  - 0x00 # Partitions[1].ErrorCode (2 bytes, 0x0000 in hex, 0 in decimal)
  - 0x00
  - 0x00 # Partitions[1].Offset (8 bytes, 0x0000000000000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0xff # Partitions[1].Timestamp (8 bytes, 0xffffffffffffffff in hex, -1 in decimal)
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0x00 # Partitions[1].LogStartOffset (8 bytes, 0x0000000000000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x01 # Record errors array length + 1 (varint, 0x01 in hex, 1 in decimal)
  - 0x00 # Error Message (COMPACT_STRING, 0x00 in hex, 0 in decimal, NULL value)
  - 0x00 # Empty tag buffer at the end of the partition
  - 0x00 # Empty tag buffer at the end of topic
  - 0x04 # Topic name length + 1 (varint, 0x04 in hex, 4 in decimal)
  - 0x70 # p (topic name)
  - 0x61 # a (topic name)
  - 0x78 # x (topic name)
  - 0x02 # Partitions array length + 1 (varint, 0x02 in hex, 2 in decimal)
  - 0x00 # Partitions[0].ID (4 bytes, 0x00000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00 # Partitions[0].ErrorCode (2 bytes, 0x0000 in hex, 0 in decimal)
  - 0x00
  - 0x00 # Partitions[0].Offset (8 bytes, 0x0000000000000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0xff # Partitions[0].Timestamp (8 bytes, 0xffffffffffffffff in hex, -1 in decimal)
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0xff
  - 0x00 # Partitions[0].LogStartOffset (8 bytes, 0x0000000000000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x00
  - 0x01 # Record errors array length + 1 (varint, 0x01 in hex, 1 in decimal)
  - 0x00 # Error Message (COMPACT_STRING, 0x00 in hex, 0 in decimal, NULL value)
  - 0x00 # Empty tag buffer at the end of the partition
  - 0x00 # Empty tag buffer at the end of the topic
  - 0x00 # Throttle Time (4 bytes, 0x00000000 in hex, 0 in decimal)
  - 0x00
  - 0x00
  - 0x00
  - 0x00 # Empty tag buffer at the end of the response
segments:
  - title: Message Size
    length_in_bytes: 4
    explanation_markdown: |
      Message Size is a 4-byte big-endian integer indicating the size of the rest of the message. All Kafka responses start with this field.

      In this case, the value is 0x7a (122 in decimal) indicating that the rest of the message is 122 bytes long.
  - title: Response Header (v1)
    length_in_bytes: 5
    explanation_markdown: |
      The Response Header structure is common across all Kafka responses. It contains the Correlation ID that matches the request.
    children:
      - title: Correlation ID
        length_in_bytes: 4
        explanation_markdown: |
          The Correlation ID is a 4-byte integer that matches the ID sent in the corresponding request.

          Here, it is 0x07 (7).
      - title: Tag Buffer
        length_in_bytes: 1
        explanation_markdown: |
          An empty tagged field array, represented by a single byte of value 0x00.
  - title: Produce Response Body (v11)
    length_in_bytes: 117
    explanation_markdown: |
      The response body contains fields specific to the Produce response.
    children:
      - title: Topics Array
        length_in_bytes: 112
        explanation_markdown: |
          An array of topics described in the response.

          This array is encoded as a `COMPACT_ARRAY`, which starts with a varint corresponding to the length of the array + 1, followed by each element.
        children:
          - title: Array Length
            length_in_bytes: 1
            explanation_markdown: |
              The length of the topics array + 1, encoded as a varint. Here, it is 0x03 (3), meaning that the array length is 2.
          - title: "Topic #1"
            length_in_bytes: 72
            explanation_markdown: |
              A single topic in the array.
            children:
              - title: Topic Name
                length_in_bytes: 4
                explanation_markdown: |
                  The name of the topic, encoded as a `COMPACT_STRING`.
                children:
                  - title: String Length
                    length_in_bytes: 1
                    explanation_markdown: |
                      The length of the string + 1, encoded as a varint. Here, it is 0x04 (4), meaning the string length is 3.
                  - title: String Content
                    length_in_bytes: 3
                    explanation_markdown: |
                      The content of the string: "qux".
              - title: Partitions Array
                length_in_bytes: 67
                explanation_markdown: |
                  An array of partitions for this topic.
                children:
                  - title: Array Length
                    length_in_bytes: 1
                    explanation_markdown: |
                      The length of the partitions array + 1, encoded as a varint. Here, it is 0x03 (3), meaning the array length is 2.
                  - title: Partition 0
                    length_in_bytes: 33
                    explanation_markdown: |
                      Information about the first partition.
                    children:
                      - title: Partition ID
                        length_in_bytes: 4
                        explanation_markdown: |
                          A 4-byte integer representing the ID of this partition.
                          Here, it is 0x00000000 (0 in decimal).
                      - title: Error Code
                        length_in_bytes: 2
                        explanation_markdown: |
                          A 2-byte integer representing the error code for this partition.
                          Here, it is 0x0000 (0 in decimal), indicating NO_ERROR.
                      - title: Base Offset
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the base offset assigned to the produced records.
                          Here, it is 0x0000000000000000 (0 in decimal).
                      - title: Log Append Time
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the timestamp when the records were appended to the log.
                          Here, it is 0xffffffffffffffff (-1 in decimal), indicating that the timestamp is not set.
                      - title: Log Start Offset
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the start offset of the log.
                          Here, it is 0x0000000000000000 (0 in decimal).
                      - title: Record Errors Array
                        length_in_bytes: 1
                        explanation_markdown: |
                          An array of record-level errors.
                        children:
                          - title: Array Length
                            length_in_bytes: 1
                            explanation_markdown: |
                              The length of the record errors array + 1, encoded as a varint. Here, it is 0x01 (1), meaning the array length is 0.
                      - title: Error Message
                        length_in_bytes: 1
                        explanation_markdown: |
                          A nullable string containing an error message.
                          Here, it is 0x00, indicating a null value.
                      - title: Tag Buffer
                        length_in_bytes: 1
                        explanation_markdown: |
                          An empty tagged field array, represented by a single byte of value 0x00.
                  - title: Partition 1
                    length_in_bytes: 33
                    explanation_markdown: |
                      Information about the second partition.
                    children:
                      - title: Partition ID
                        length_in_bytes: 4
                        explanation_markdown: |
                          A 4-byte integer representing the ID of this partition.
                          Here, it is 0x00000001 (1 in decimal).
                      - title: Error Code
                        length_in_bytes: 2
                        explanation_markdown: |
                          A 2-byte integer representing the error code for this partition.
                          Here, it is 0x0000 (0 in decimal), indicating NO_ERROR.
                      - title: Base Offset
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the base offset assigned to the produced records.
                          Here, it is 0x0000000000000000 (0 in decimal).
                      - title: Log Append Time
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the timestamp when the records were appended to the log.
                          Here, it is 0xffffffffffffffff (-1 in decimal), indicating that the timestamp is not set.
                      - title: Log Start Offset
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the start offset of the log.
                          Here, it is 0x0000000000000000 (0 in decimal).
                      - title: Record Errors Array
                        length_in_bytes: 1
                        explanation_markdown: |
                          An array of record-level errors.
                        children:
                          - title: Array Length
                            length_in_bytes: 1
                            explanation_markdown: |
                              The length of the record errors array + 1, encoded as a varint. Here, it is 0x01 (1), meaning the array length is 0.
                      - title: Error Message
                        length_in_bytes: 1
                        explanation_markdown: |
                          A nullable string containing an error message.
                          Here, it is 0x00, indicating a null value.
                      - title: Tag Buffer
                        length_in_bytes: 1
                        explanation_markdown: |
                          An empty tagged field array, represented by a single byte of value 0x00.
              - title: Tag Buffer
                length_in_bytes: 1
                explanation_markdown: |
                  An empty tagged field array, represented by a single byte of value 0x00.
          - title: "Topic #2"
            length_in_bytes: 39
            explanation_markdown: |
              A single topic in the array.
            children:
              - title: Topic Name
                length_in_bytes: 4
                explanation_markdown: |
                  The name of the topic, encoded as a COMPACT_STRING.
                children:
                  - title: String Length
                    length_in_bytes: 1
                    explanation_markdown: |
                      The length of the string + 1, encoded as a varint. Here, it is 0x04 (4), meaning the string length is 3.
                  - title: String Content
                    length_in_bytes: 3
                    explanation_markdown: |
                      The content of the string: "pax".
              - title: Partitions Array
                length_in_bytes: 34
                explanation_markdown: |
                  An array of partitions for this topic.
                children:
                  - title: Array Length
                    length_in_bytes: 1
                    explanation_markdown: |
                      The length of the partitions array + 1, encoded as a varint. Here, it is 0x02 (2), meaning the array length is 1.
                  - title: Partition 0
                    length_in_bytes: 33
                    explanation_markdown: |
                      Information about the first partition.
                    children:
                      - title: Partition ID
                        length_in_bytes: 4
                        explanation_markdown: |
                          A 4-byte integer representing the ID of this partition.
                          Here, it is 0x00000000 (0 in decimal).
                      - title: Error Code
                        length_in_bytes: 2
                        explanation_markdown: |
                          A 2-byte integer representing the error code for this partition.
                          Here, it is 0x0000 (0 in decimal), indicating NO_ERROR.
                      - title: Base Offset
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the base offset assigned to the produced records.
                          Here, it is 0x0000000000000000 (0 in decimal).
                      - title: Log Append Time
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the timestamp when the records were appended to the log.
                          Here, it is 0xffffffffffffffff (-1 in decimal), indicating that the timestamp is not set.
                      - title: Log Start Offset
                        length_in_bytes: 8
                        explanation_markdown: |
                          An 8-byte integer representing the start offset of the log.
                          Here, it is 0x0000000000000000 (0 in decimal).
                      - title: Record Errors Array
                        length_in_bytes: 1
                        explanation_markdown: |
                          An array of record-level errors.
                        children:
                          - title: Array Length
                            length_in_bytes: 1
                            explanation_markdown: |
                              The length of the record errors array + 1, encoded as a varint. Here, it is 0x01 (1), meaning the array length is 0.
                      - title: Error Message
                        length_in_bytes: 1
                        explanation_markdown: |
                          A nullable string containing an error message.
                          Here, it is 0x00, indicating a null value.
                      - title: Tag Buffer
                        length_in_bytes: 1
                        explanation_markdown: |
                          An empty tagged field array, represented by a single byte of value 0x00.
              - title: Tag Buffer
                length_in_bytes: 1
                explanation_markdown: |
                  An empty tagged field array, represented by a single byte of value 0x00.
      - title: Throttle Time
        length_in_bytes: 4
        explanation_markdown: |
          A 4-byte integer that represents the duration in milliseconds for which the request was throttled due to quota violation.

          Here, it is 0x00000000 (0 in decimal), indicating no throttling.
      - title: Tag Buffer
        length_in_bytes: 1
        explanation_markdown: |
          An empty tagged field array, represented by a single byte of value 0x00.
